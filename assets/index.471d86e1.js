const T=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}};T();const b=(n,...o)=>(n.append(...o),n);function m(n,o={}){return Object.assign(document.createElement(n),o)}function x(n,o=document.body){return o.querySelector(n)}const O=n=>JSON.stringify(n,null,2);const C=m("output"),l={fps:m("var",{id:"fps",innerText:"0"}),mdi:m("var",{id:"mdi",innerText:O({})})},s=x("video"),p=x("canvas"),D=(n,o)=>{let{width:c,height:a}=o,e=0,t=0;const r=o.getContext("2d"),g=(h,L)=>{t===0&&(t=h);const y=(h-t)/1e3,v=(++e/y).toFixed(2);if(console.log(y,v),r){r.drawImage(n,0,0,c,a);const i=r.getImageData(0,0,c,a),q=i.data.length;for(let u=0;u<q;u++){const d=u*4,F=i.data[d+0],f=i.data[d+1],S=i.data[d+2];f>90&&f>F&&f>S&&(i.data[d+3]=0)}r.putImageData(i,0,0)}l.fps.innerText=`FPS: ${v}`,l.mdi.innerText=O(L),n.requestVideoFrameCallback(g)};return g};navigator.mediaDevices.getUserMedia({video:!0}).then(n=>{s.onplay=()=>{p.width=s.videoWidth,p.height=s.videoHeight,s.requestVideoFrameCallback(D(s,p))},s.srcObject=n});b(document.body,b(C,l.fps,l.mdi));
